version: 2

sources:
  - name: stock_data
    database: STOCK_DATA
    schema: RAW
    description: "Raw Snowpipe-ingested data from S3"

    freshness:
      warn_after: {count: 2, period: day}
      error_after: {count: 7, period: day}

    tables:
      - name: stock_price_data_raw
        description: "Raw stock price OHLCV data."
        loaded_at_field: LOAD_TIME

      - name: company_overview_json_raw
        description: "Raw company fundamentals (quarterly)."
        loaded_at_field: LOAD_TIME
